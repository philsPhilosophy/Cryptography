<!DOCTYPE html>
<html>
  <head>
    <title>Asymmetric Cryptography</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/styles/main.css" />

    <script src="/scripts/time.js"></script>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-R9D3387EP6"
    ></script>
    <script src="/scripts/gtag.js"></script>

    <!-- Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <script src="/scripts/load.js"></script>

    <!-- Custom CSS -->
    <style>
      body {
        background-color: hotpink;
      }

      p {
        font-size: 1.2em; /* Increase this value to make the text even larger */
      }

      .encryption-container, .decryption-container {
        display: flex;
        align-items: center;
      }

      .encryption-container div, .decryption-container div {
        margin-right: 20px;
      }
    </style>

    <!-- JavaScript to generate a prime number -->
    <script>
      function isPrime(num) {
        if (num <= 1) return false;
        if (num <= 3) return true;

        if (num % 2 === 0 || num % 3 === 0) return false;
        
        for (let i = 5; i * i <= num; i += 6) {
          if (num % i === 0 || num % (i + 2) === 0) return false;
        }
        
        return true;
      }

      function generatePrime() {
        const min = Math.pow(2, 20);
        const max = Math.pow(2, 21);
        let prime;

        do {
          prime = Math.floor(Math.random() * (max - min + 1)) + min;
        } while (!isPrime(prime));

        document.getElementById('primeBox').value = prime;
      }
    </script>
  </head>

  <body>
    <!-- Page Header-->
    <div>
      <div id="header-section"></div>
      <div id="navbar-section"></div>
    </div>

    <main class="content">
      <div id="about-us">
        <h1>Introduction To Asymmetric Cryptography:</h1>
        <p>
          Asymmetric Cryptography allows for the following, seemingly impossible task, to be accomplished:
        </p>
        <p><b><i>Alice and Bob,
            who have never met beforehand, wish to communicate in secret. However, every piece of information they exchange is observed by their adversary
            Eve. How is it possible for Alice and Bob to share a key without making it available to Eve?</i></b>
        </p>
        <p>
          First, we will show that it can be done.
        </p>
        <h2>
          Materials:
        </h2>

        <ul>
          <li style="font-size: 20px">-Pen and Paper</li>
          <li style="font-size: 20px">-Laptop with internet access</li>
          <li style="font-size: 20px">-Three people for each role: Alice, Bob, and Eve</li>
        </ul>

        <p>
        <h2>
          Step 1:
        </h2>
        Choose any two friends, and run through the following steps with each of you taking turns in the roles of Alice and Bob or Eve. You will use one computer. Any information exchange or sharing of the screen between Alice and Bob must be shown to Eve.
        </p>

        <!-- Add the button and textbox here -->
        <div>
          <button onclick="generatePrime()">Generate Public Prime</button>
          <input type="text" id="primeBox" readonly>
        </div>
        
        <!-- Continue with the following content -->
        <h2><b>Step 1:</b> Alice and Bob each Choose a Secret Number and Compute: <span>5<sup>a</sup> mod(1736797)</span></h2>
        
        <p>Alice, choose a secret number from 2- 1736797. Do not share this secret number with anyone, write it down, put the secret 
          number in the textbox and click Mix, this will compute <span>5<sup>a</sup> mod(1736797)</span>. Alice, write down the mixed number. 
          Refresh the webpage so the secret key cannot be seen by Bob or Eve. 
        </p>
        <p>
          Bob, repeat the same process as Alice. Choose a secret 
          number, write it down, and enter it into the textbox and click Mix. Bob, write the mixed number down. <b>And again, refresh the webpage
          so that the secret key cannot be seen by Eve!</b>
        </p>
       
        <input type="text" id="inputA">
        <button onclick="calculateModExp()">Mix</button>
        <br><br>
        <p>Mixed Number</p>
        <input type="text" id="resultBoxA" readonly>
        <br><br>

        <!-- Section for B^S mod 1736797 -->
        <h2>Step 2: Alice & Bob Exchange Mixed Numbers and Compute a Shared Secret Key</h2>
        <p>Alice should show or tell Bob the mixed number she received from step 1, and Bob should do the same. When they do, be sure that Eve is able 
          to see and hear the mixed numbers from both. Now Alice and Bob will compute a shared secret key.
        <p>Enter Here Your Secret Number</p>
        <input type="text" id="inputS">
        <br><br>
        <p>Enter the Mixed Number You Received from Your Partner</p>
        <input type="text" id="inputB">
        <br><br>
        <button onclick="calculateModExpForInputs()">Calculate Shared Secret Key Between Alice and Bob.</button>
        <br><br>
        <p>Shared Key Between Alice and Bob:</p>
        <input type="text" id="resultBoxB" readonly>
        <br><br>

        <!-- Section for encryption using the shared secret key -->
        <h2>Step 3: Encrypt a Message Using the Shared Secret Key</h2>
        <div class="encryption-container">
          <div>
            <p>Enter the Shared Secret Key:</p>
            <input type="text" id="encryptionKey">
            <p>Enter the Text to Encrypt:</p>
            <input type="text" id="plaintextInput">
          </div>
          <div>
            <p>Encrypted Text (Numeric):</p>
            <input type="text" id="encryptedText" readonly>
            <br><br>
            <button onclick="encryptText()">Encrypt Text</button>
          </div>
        </div>

        <!-- Section for decryption using the shared secret key -->
        <h2>Step 4: Decrypt the Encrypted Message Using the Shared Secret Key</h2>
        <div class="decryption-container">
          <div>
            <p>Enter the Shared Secret Key:</p>
            <input type="text" id="decryptionKey">
            <p>Enter the Encrypted Text (Numeric):</p>
            <input type="text" id="encryptedInput">
          </div>
          <div>
            <p>Decrypted Text:</p>
            <input type="text" id="decryptedText" readonly>
            <br><br>
            <button onclick="decryptText()">Decrypt Text</button>
          </div>
        </div>
      </div>
    </main>

    <div id="footer-section"></div>
  </body>
</html>
