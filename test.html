<!DOCTYPE html>
<html>
  <head>
    <title>Asymmetric Cryptography</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style>
      body {
        background-color: hotpink;
      }

      p {
        font-size: 1.2em;
      }
    </style>

    <script>
      // Function to compute (base^exponent) mod modulus efficiently
      function modExp(base, exponent, modulus) {
        if (modulus === 1) return 0;
        let result = 1;
        base = base % modulus;
        while (exponent > 0) {
          if (exponent % 2 === 1) { // If exponent is odd, multiply base with result
            result = (result * base) % modulus;
          }
          exponent = Math.floor(exponent / 2); // Divide the exponent by 2
          base = (base * base) % modulus; // Square the base
        }
        return result;
      }

      // Calculate A = 5^a mod 1736797
      function calculateModExp() {
        const a = parseInt(document.getElementById('inputA').value);
        const p = 1736797;
        const base = 5;
        
        if (isNaN(a) || a <= 0) {
          alert("Please enter a valid positive integer.");
          return;
        }

        const A = modExp(base, a, p);
        document.getElementById('resultBoxA').value = A;
      }

      // Calculate B^S mod 1736797
      function calculateModExpForInputs() {
        const S = parseInt(document.getElementById('inputS').value);
        const B = parseInt(document.getElementById('inputB').value);
        const p = 1736797;
        
        if (isNaN(S) || S < 0 || isNaN(B) || B <= 0) {
          alert("Please enter valid positive integers for both S and B.");
          return;
        }

        const result = modExp(B, S, p);
        document.getElementById('resultBoxB').value = result;
      }
    </script>
  </head>

  <body>
    <main class="content">
      <div id="about-us">
        <h1>Introduction To Asymmetric Cryptography:</h1>

        <!-- Section for A = 5^a mod 1736797 -->
        <h2><b>Step 1:</b> Alice and Bob each Choose a Secret Number and Compute: <span>5<sup>a</sup>mod(1736797)</span></h2>
        
        <p>Alice, choose a secret number from 2- 1736797. Do not share this secret number with anyone, write it down, put the secret 
          number in the textbox and click Mix, this will compute <span>5<sup>a</sup>mod(1736797)</span>. Alice write down the mixed number. 
          Refresh the webpage so the secret key cannot be seen by Bob or Eve. 
        </p>
        <p>
          Bob, repeat the same process as Alice. Choose a secret 
          number, writes it down, and enter it into the textbox and click Mix, Bob write the mixed number down. <b>And again, Refresh the webpage
          so that the secret key cannot be seen by Eve!.</b>
         </p>
       
        <input type="text" id="inputA">
        <button onclick="calculateModExp()">Mix</button>
        <br><br>
        <p>Mixed Number</p>
        <input type="text" id="resultBoxA" readonly>
        <br><br>

        <!-- Section for B^S mod 1736797 -->
        <h2>Step 2: Alice & Bob Exchange Mixed Numbers and Compute a Shared Secret Key</h2>
        <p>Enter Here Your Secret Number<em>S</em>:</p>
        <input type="text" id="inputS">
        <br><br>
        <p>Enter the Mixed Number You Recieved from Your Partner<em>B</em>:</p>
        <input type="text" id="inputB">
        <br><br>
        <button onclick="calculateModExpForInputs()">Calculate</button>
        <br><br>
        <p>Result \(B^S \mod 1736797\):</p>
        <input type="text" id="resultBoxB" readonly>
      </div>
    </main>
  </body>
</html>
